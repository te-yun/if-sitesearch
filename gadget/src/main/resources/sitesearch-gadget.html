<!DOCTYPE html>
<!--
  ~ Copyright 2017 IntraFind Software AG. All rights reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en">
<meta charset="utf-8"/>
<title>Site Search</title>
<link rel="stylesheet" type="text/css" href="https://cdn.sitesearch.cloud/theme/font/css/font-awesome.min.css"/>
<link rel="stylesheet" type="text/css"
      href="https://sitesearch.cloud/wp-content/themes/jupiter/assets/stylesheet/core-styles.css"/>
<script src="/app/runtime/kotlin.js"></script>
<script src="/app/gadget/gadget.js"></script>

<style>
    label {
        font-weight: bold;
    }

    .wrapper {
        display: grid;
        grid-template-columns: 130px 400px;
    }

    label, div.wrapper > input {
        border: 3px;
        width: 399px;
    }

    label {
        font-weight: normal;
    }

    textarea:focus {
        zoom: 82.4%;
    }
</style>

<h1 style="font-size: 2em;"><span class="fa fa-search"></span> Site Search Integrator Gadget</h1>
<div class="wrapper">
    <label for="feedUrl"><span class="fa fa-rss"></span> RSS Feed URL</label>
    <input id="feedUrl" placeholder="Feed URL, e.g. https://intrafind.de/share/enterprise-search-blog.xml"
           title="Crawling support, coming soon"
           value="https://intrafind.de/share/enterprise-search-blog.xml" style="border-color: #119;">
    <!--<label for="email"><span class="fa fa-envelope-o"></span> E-mail</label>-->
    <!--<input id="email" placeholder="E-mail" value="feedback@sitesearch.cloud" readonly>-->
    <label for="siteId"><span class="fa fa-key"></span> Site ID</label>
    <input id="siteId" placeholder="Site ID" readonly>
    <label for="siteSecret"><span class="fa fa-user-secret"></span> Site Secret</label>
    <input id="siteSecret" placeholder="Site Secret" readonly>
</div>
<button id="index" class="fa fa-cogs"
        style="height: 1.5em; font-size: 2em; text-align: center; font-weight: bold; width: 530px;"
        title="Extract content from website"
        onclick="gadget.com.intrafind.sitesearch.gadget.triggerFirstUsageOwnership()">
    Enable Search
</button>
<br>
<br>
<div style="display: none;">
    <input id="overrideSiteId"
           title="Leave it blank if you do not know what this means."
           placeholder="Site ID to use for all Site Search requests" style="width: 306px;">
    <button
            onclick="gadget.com.intrafind.sitesearch.gadget.overrideSite(document.getElementById('overrideSiteId').value)"
            title="Site ID Cookie overrides the Site ID which is specified in the initialization code for all requests to Site Search."
            style="width: 217px;"
    >
        Override with Site ID Cookie
    </button>
</div>

<div id="sitesearch-searchbar">
    <link rel="stylesheet" type="text/css" href="https://cdn.sitesearch.cloud/searchbar/latest/app/css/app.css"/>
    <div class="container" style="margin-top:22px; width: 530px;">
        <div id="searchbar"></div>
        <div id="resultlist"></div>
    </div>

    <!--Place this "Search Bar Integration Code" at the very end of your HTML document.-->
    <!--BEGIN "Search Bar Integration Code"-->
    <script src="https://cdn.sitesearch.cloud/searchbar/latest/app/js/app.js"></script>
    <script>
        IFS.jQuery.noConflict();
        IFS.jQuery(document).ready(function ($) {
            IFS.initClient({
                customConfig: {
                    overwrite: {
                        "appLang": "en"
                    }
                },
                sbTarget: "#searchbar",
                configurl: "/searchbar/latest/config/sitesearch.json",
                sitesearch: true,
                siteId: "4bcccea2-8bcf-4280-88c7-8736e9c3d15c"
            });
        });
    </script>
    <!--END "Search Bar Integration Code"-->
</div>

<br>
<div id="page-finder"></div>
<script id="sitesearch-page-finder-init"
        src="/app/finder/finder.js"
        data-append-as-child-to="#page-finder"
        data-search-style="width: 530px; font-size: 2em; text-indent: .5em;"
        data-siteId="4bcccea2-8bcf-4280-88c7-8736e9c3d15c"
></script>

<br>
<br>

<h2>Add Site Search to your website</h2>

<input id="searchbar-variant" type="radio" style="width: 30px; height: 1.2em;" value="Enterprise search bar"
       name="clientChoice" title="Solid, reliable, production-grade search bar implementation" checked><strong>Enterprise</strong>
<input id="finder-variant" type="radio" style="width: 30px; height: 1.2em;" value="{if-lab} Finder (experimental)"
       name="clientChoice" title="A proof of concept search bar, not recommended for production deployments"><strong>Experimental</strong>
<br>
<br>
<textarea id="integration-code" cols="70" rows="34"
          title="Integration code to be inserted into your website to include a search bar"></textarea>
