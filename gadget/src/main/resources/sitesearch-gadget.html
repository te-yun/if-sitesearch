<!DOCTYPE html>
<!--
  ~ Copyright 2018 IntraFind Software AG. All rights reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Getting Started - Site Search</title>

    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Open+Sans:100italic,200italic,300italic,400italic,500italic,600italic,700italic,800italic,900italic,100,200,300,400,500,600,700,800,900"
          media="all">
    <link rel="stylesheet" type="text/css" href="/theme/font/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="main.css">

    <script src="tippy.all.min.js"></script>
    <script src="/app/runtime/kotlin.js"></script>
    <script src="/app/gadget/gadget.js"></script>
    <script>
        var captchaLoad = function () {
            captchaWidget = grecaptcha.render("captcha", {
                "sitekey": gadget.com.intrafind.sitesearch.gadget.SiteSearch.Companion.captchaSiteKey,
                "callback": gadget.com.intrafind.sitesearch.gadget.verifyCallback
            });
        };
    </script>
</head>

<body>
<h2>Site Search Gadget</h2>
<p>
    This gadget is <strong>all you need, to get up and running with Site Search</strong>.
    Just provide the URL of the website you want to search, and see if the results satisfy your expectations.
    After an evaluation period, you can decide whether you want to subscribe to Site Search to continue using this
    website search service.
</p>

<div class="wrapper">
    <div class="form-inline defaultValidity" id="websiteUrl-container">
        <label for="url">
            <span class="fa fa-wordpress"></span>
            Website URL
        </label>
        <div class="tipsy-container">
            <input type="text" id="url"
                   placeholder="Website URL, e.g. https://sitesearch.cloud"
                   value="https://sitesearch.cloud"
            >
            <div class="tipsy"
                 title="Provide the URL of your website to create an initial index for your website.">
            </div>
            <div class="error">Invalid URL - consider omitting/adding <em>www</em> or replacing <em>http</em> with <em>https</em>
            </div>
            <div class="subline">Up to 500 pages of a website are crawled in this <strong>evaluation mode</strong></div>
        </div>
    </div>

    <div class="form-inline" id="sitemapContainer">
        <label for="sitemapsOnly">
            <span class="fa fa-sitemap"></span>
            Use Sitemaps Only
        </label>
        <div class="tipsy-container">
            <input type="checkbox" id="sitemapsOnly" class="if-checkbox">
            <label for="sitemapsOnly">&nbsp;</label>
            <div class="tipsy"
                 title="Use <a href='https://www.sitemaps.org/protocol.html'>Sitemaps</a> while crawling a site.
                 Only crawl pages that are explicitly mentioned in a sites' Sitemap."></div>
        </div>
    </div>

    <div class="form-inline defaultValidity" id="cssSelectorContainer">
        <label for="cssSelector">
            <span class="fa fa-cut"></span>
            Content Extraction CSS Selector
        </label>
        <div class="tipsy-container">
            <input type="text" id="cssSelector"
            placeholder="#page-content-CSS-element-ID-selector"
            value="body">
             <div class="tipsy"
                 title="The CSS selector which is used to match just a subdivision of the body and extract its content.
    If nothing is provided, the content is extracted from the 'body' tag. Do not modify the preset value if you are unsure."></div>
            <div class="error">Invalid CSS selector</div>
        </div>
    </div>

    <div class="form-inline" id="email-container">
        <label for="email">
            <span class="fa fa-envelope-o"></span>
            E-mail
        </label>
        <div class="tipsy-container">
            <input type="text" id="email"
                   placeholder="search.integrator@example.com"
                   value="">
            <div class="tipsy"
                 title="E-mail address to receive all integration data, incl. Site Secret."></div>
        </div>
    </div>

    <div class="form-inline" id="siteId-container">
        <label for="siteId">
            <span class="fa fa-key"></span>
            Site ID
        </label>
        <div class="tipsy-container">
            <div id="siteId" class="output">Will be generated...</div>
            <div class="tipsy"
                 title="The <a href='https://sitesearch.cloud/faq'>Site ID</a> is the public identifier that is required by Site Search to provide you with search results, specific to your site.">
            </div>
        </div>
    </div>
    <div class="form-inline" id="siteSecret-container">
        <label for="siteSecret">
            <span class="fa fa-user-secret"></span>
            Site Secret
        </label>
        <div class="tipsy-container">
            <div id="siteSecret" class="output">Will be generated...</div>
            <div class="tipsy"
                 title="The Site Secret is the confidential secret that is required to modify, i.e. update your index and delete pages."></div>
        </div>
    </div>
</div>

<div id="captcha"></div>

<div class="form-inline tc-wrapper">
    <label>
        <a href="https://sitesearch.cloud/terms" title="Terms &amp; Conditions" target="_blank">Accept Terms &amp; Conditions</a>
    </label>
    <div>
        <input type="checkbox" id="termsAccepted" class="if-checkbox">
        <label for="termsAccepted">&nbsp;</label>
    </div>
</div>

<div class="button-wrapper">
    <button id="index" class="button-wrapper" title="Extract content from website"
            onclick="gadget.com.intrafind.sitesearch.gadget.triggerFirstUsageOwnership(); gtag_report_conversion();"
            disabled>
        Enable Search
    </button>
</div>
<div id="siteSearchSetupUrl"
     title="The copied URL contains all information you need, to resume your evaluation or setup the search on your website"></div>

<h3 id="search">
    Search your website
    <span class="tipsy"
          title="Here you can find content from the site you just indexed."></span>
</h3>
<p>
    Here you can search for content from the site you have provided above.
    This way you can <strong>evaluate the Site Search before embedding it anywhere</strong>.
    Please consider a delay of up to a few minutes until your site becomes fully searchable.
</p>

<!--BEGIN "Search Bar Integration Code"-->
<div id="sitesearch-searchbar" class="searchbar">
    <div id="ifs-searchbar"></div>
    <script type="text/javascript" src="https://cdn.sitesearch.cloud/searchbar/2018-05-15/app/js/app.js"></script>
    <script type="text/javascript">
        IFS.initClient({
            customConfig: {
                overwrite: {
                    "appLang": "en"
                }
            },
            configurl: "https://cdn.sitesearch.cloud/searchbar/2018-05-15/config/sitesearch.json",
            siteId: "3a5dfd07-a463-45f8-863b-dfc3c9f09152"
        });
    </script>
</div>
<!--END "Search Bar Integration Code"-->

<h3 id="addToWebsite">
    Add Site Search to your website
    <span class="tipsy"
          title="Include this snippet into your website to embed the searchbar that you see above into your website."></span>
</h3>
<p>
    You need to <strong>embed this HTML snippet into your website</strong>, in order to make the search, you
    just tested above, available on your website.
    Adjusting the layout, colors, and general design of the search bar is as easy as styling any other part
    of your website.
    If you have any other specific questions, consider reading our <a href="https://sitesearch.cloud/faq"
                                                                      target="_top">FAQ</a>.
</p>
<div class="button-wrapper-large">
    <button onclick="window.location.href = 'https://sitesearch.cloud/pricing'">
        Subscribe to Site Search
    </button>
</div>
<textarea id="integration-code"
          title="Integration code to be inserted into your website to include a search bar"></textarea>

<script>
    var iframe = window.parent.document.getElementById('gadgetframe');
    var frameBody = document.getElementsByTagName('body')[0];
    iframe.style.height = frameBody.offsetHeight + 'px';

    tippy('.tipsy', {
        arrow: true,
        trigger: 'click'
    });
</script>
<script src="https://www.google.com/recaptcha/api.js?onload=captchaLoad&render=explicit&hl=en" async defer></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=AW-991250257"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'AW-991250257');
</script>
<script>
    function gtag_report_conversion(url) {
        var callback = function () {
            if (typeof(url) != 'undefined') {
                window.location = url;
            }
        };
        gtag('event', 'conversion', {
            'send_to': 'AW-991250257/fYASCIjQj38Q0Y7V2AM',
            'event_callback': callback
        });
        return false;
    }
</script>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-107714065-1', 'auto');
    ga('send', 'pageview');
</script>
</body>
</html>
